---
layout: default
---
<div class="usa-grid-wide">
    <div id="hero-image" class="usa-width-one-whole">
        <div id="hero-header-text" class="usa-width-two-thirds">
            <!-- <h1 id="hero-text">Code for DC</h1>
            <div id="hero-p">
                <p>Founded in 2012, we are a a non-partisan, non-political group of volunteer civic hackers working together to solve local issues and help people engage with the city.</p>
            </div> -->
        </div>
    </div>
</div>

<div class="usa-grid">
    <div class="usa-width-three-fourths usa-section">
        <h2>Join us at one of our upcoming project nights!</h2>
        <p>Our twice-monthly meetups are open to anyone, and offer a chance to learn more about what we do, contribute to a current project, or just snag some free pizza!</p>
    </div>
    <div class="usa-width-one-half">
        <h2>Next meetup</h2>
        <div id="map"></div>
        <h4 id="next-meetup-date"></h4>
        <p id="next-location"></p>
        <br>
        <p><span id="next-rsvps"></span> do-gooders will be there — what about you?</p>
        <br>
        <a id="next-rsvp" href="#" target="_blank" class="usa-button">RSVP on Meetup »</a>
        <h3>Future meetups</h3>
        <h4 id="future-meetup-date"></h4>
        <p id="future-location"></p>
        <br>
        <p><span id="future-rsvps"></span> do-gooders will be there — what about you?</p>
        <br>
        <a id="future-rsvp" target="_blank" href="#" class="usa-button">RSVP on Meetup »</a>
      </p>
      </p>
      <p><a href="https://www.meetup.com/Code-for-DC/events/">See all upcoming events »</a></p>
    </div>
    <div class="usa-width-one-half">
      <img src="assets/projnight.jpg">
    </div>
    <!-- <div class="usa-width-one-half">
            <br>
            <h2> PROJECT NIGHT </h2>
            <br>
            <img src="assets/projnight.jpg">
            <br>
            <p>Our twice-monthly meetups are open to anyone, and offer a chance to learn more about what we do, contribute to a current project, or just snag some free pizza!</p>
    </div>
</div>

    <div class="usa-width-one-half">
        <div class="beige-section">
            <br>
            <h2> SCHEDULE </h2>
            <br>
            <h3>Project Night</h3>
            <p>Tuesday, January 8 @ 6:30pm</p>
            <p>1325 G Street, NW, 3rd Floor</p>
            <p>65 do-gooders will be there — what about you?</p>
            <p><a href="https://www.meetup.com/Code-for-DC/events/">RSVP on Meetup »</a></p>
            <br>
            <h3>Project Night</h3>
            <p>Tuesday, January 29 @ 6:30pm</p>
            <p>1200 New York Ave NW</p>
            <p>38 do-gooders will be there — what about you?</p>
            <p><a href="https://www.meetup.com/Code-for-DC/events/">RSVP on Meetup »</a></p>
        </div>
    </div> -->
</div>

<div class="usa-grid">
  <div class="usa-width-one-whole usa-section background-gray">
    <div class="usa-width-one-whole">
        <br>
        <!-- <h2 class="project-section-header">Projects</h2> -->
        <h2>Projects</h2>
        <p>The list of projects we’re working on is always changing! Here are a few of our past and current projects:</p>
        <br>
        <!-- <a href="#"> See all projects </a> -->
        <!-- <br><br> -->
    </div>
</div>

    <div class="usa-width-one-third">
        <!-- <div class="project-card"> -->
            <img src="assets/projplaceholder.png">
            <h3> Project Name </h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. </p>
        <!-- </div> -->
    </div>

    <div class="usa-width-one-third">
        <!-- <div class="project-card"> -->
            <img src="assets/projplaceholder.png">
            <h3> Project Name </h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. </p>
        <!-- </div> -->
    </div>

    <div class="usa-width-one-third">
        <!-- <div class="project-card"> -->
            <img src="assets/projplaceholder.png">
            <h3> Project Name </h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. </p>
        <!-- </div> -->
    </div>
  </div>
</div>

<script >
    document.addEventListener("DOMContentLoaded", function(event) { 
        mapboxgl.accessToken = 'pk.eyJ1Ijoib3BlbmRhdGFkYyIsImEiOiJjanJneDkweHEycGMxNDNtbXJiNGdndDRuIn0.ToI609oBwJsdC8fiubjl9A';
        var map = new mapboxgl.Map({
            container: 'map', // HTML container id
            style: 'mapbox://styles/mapbox/streets-v9', // style URL
            center: [ -77.0369, 38.9072 ], // starting position as [lng, lat]
            zoom: 13
        });
        $.ajax({
            type: "GET",
            dataType: 'jsonp',
            url: 'https://api.meetup.com/Code-for-DC/events?photo-host=public&page=20&sig_id=163907222&sig=f5fae4cf26e324516a55732b9ca095aba0cd6e04',
            crossDomain : true,
            xhrFields: {
                withCredentials: true
            },
            beforeSend: function() {
            $('#meetup').addClass('loading'); // Show loader icon
            },
            complete: function() {
            $('#meetup').removeClass('loading'); // Hide loader icon
            }
        })
        .done(( xhr ) => {
            const nextMeetup = xhr.data[0]
            const futureMeetup = xhr.data[1]
            $('#next-meetup-date').html(
                moment(!nextMeetup.time).isSame(moment(new Date()), 'day') ?
                `${moment(nextMeetup.time).format('MM/DD/YYYY')}  ${moment(nextMeetup.time).format('h:mm')}` :
                `Today @ ${moment(nextMeetup.time).format('h:mm')}`
            )
            $("#next-location").html(`
                <a href="https://www.google.com/maps/place/@${nextMeetup.venue.lat},-${nextMeetup.venue.lon},13z" target="_blank">${nextMeetup.venue.address_1}</a>
            `)
            $('#next-rsvps').html(nextMeetup.yes_rsvp_count);
            $('#next-rsvp').attr('href', `https://www.meetup.com/Code-for-DC/events/${nextMeetup.id}`);
            
            if(futureMeetup) {
                $('#future-meetup-date').html(
                moment(!futureMeetup.time).isSame(moment(new Date()), 'day') ?
                `${moment(futureMeetup.time).format('MM/DD/YYYY')}  ${moment(futureMeetup.time).format('h:mm')}` :
                `Today @ ${moment(futureMeetup.time).format('h:mm')}`
                )
                $("#future-location").html(`
                    <a href="https://www.google.com/maps/place/@${futureMeetup.venue.lat},-${futureMeetup.venue.lon},13z" target="_blank">${futureMeetup.venue.address_1}</a>
                `)
                $('#future-rsvps').html(futureMeetup.yes_rsvp_count);
                $('#future-rsvp').attr('href', `https://www.meetup.com/Code-for-DC/events/${futureMeetup.id}`)

            } else {
                $('#future-meetup-date').hide();
                $('#future-location').hide();
                $('#future-rsvps').hide();
                $('#future-rsvp').hide();
            }
            


            var popup = new mapboxgl.Popup({ closeOnClick: false })
                .setLngLat([nextMeetup.venue.lon, nextMeetup.venue.lat])
                .setHTML(`
                    <p>${nextMeetup.venue.name}</p>
                `)
                .addTo(map);
        });
    });
</script>

